import{ProjectCreation,ToDoList}from"./document.js";import"./styles.css";import DisplaySpecificTodo from"./SpecificPresentation.js";import DeleteImageSrc from"./delete.png";import{DefaultList}from"./SpecificPresentation.js";import{tr}from"date-fns/locale";let List=JSON.parse(localStorage.getItem("List")),EmptyToDo=JSON.parse(localStorage.getItem("EmptyToDo"));function BasicLayout(){let e=document.createElement("div"),t=document.createElement("div");e.classList.add("top-bar"),document.getElementById("content").appendChild(e),t.classList.add("side-bar"),t.innerHTML='<div class="new-button">Menu buttons</div>',document.getElementById("content").appendChild(t)}function RenderFullList(){let e=document.createElement("div");e.classList.add("list-div"),document.getElementById("content").appendChild(e);let t,o="";null!==List&&(List.forEach((e=>{t=`<div class="project-title">${e.ProjectName}</div>`,o+=t,0!==e.Array.length&&e.Array.forEach((e=>{o+=`\n            <div class="render-list">\n            <div>${e.title}</div>\n            <div>${e.priority}</div>\n            <div>${e.notes}</div>\n            <div>${e.dueDate}</div>\n            <div>${e.description}</div>\n            </div>\n            `}))})),document.querySelector(".list-div").innerHTML=o)}DefaultList(List),DomArrange(),BasicLayout(),null===List&&(List=[]),null===EmptyToDo&&(EmptyToDo=[]);let Meter=!0,DefaultValue=!1;function DomArrange(){document.querySelector(".create-button").addEventListener("click",(()=>{let e=document.createElement("div");e.innerHTML='<div class="full-project-field">\n<input class="input-projectName input-fields" maxlength="17" >\n<button class="enter-button">Enter</button>\n</div>',!0!==Meter&&!0!==DefaultValue||(document.getElementById("content").appendChild(e),ToggleThePage(),CreationOfTodo(e,Meter),Meter=!1)}))}function ToggleThePage(){document.querySelectorAll(".default-button").forEach((e=>{e.classList.contains("display-none")?e.classList.remove("display-none"):e.classList.add("display-none")})),document.querySelector(".new-button").classList.contains("display-none")||document.querySelector(".new-button").classList.add("display-none"),document.querySelectorAll(".project-list").forEach((e=>{e.classList.contains("display-none")?e.classList.remove("display-none"):e.classList.add("display-none")})),document.querySelector(".project-upper").classList.contains("display-none")?document.querySelector(".project-upper").classList.remove("display-none"):document.querySelector(".project-upper").classList.add("display-none"),document.querySelector(".Project-header").classList.contains("display-none")?document.querySelector(".Project-header").classList.remove("display-none"):document.querySelector(".Project-header").classList.add("display-none")}function CreationOfTodo(e){document.querySelector(".enter-button").addEventListener("click",(()=>{if(List.length<=9){let t=document.querySelector(".input-projectName").value,o=new ProjectCreation(t);""!==t?(List.push(o),SavingTheList(),RenderProjects(),Meter=!0,document.getElementById("content").removeChild(e),ToggleThePage()):alert("Enter Valid Project Name")}else alert("List poori ho gyi bhai"),document.getElementById("content").removeChild(e),ToggleThePage(),DefaultValue=!0}))}function SavingTheList(){localStorage.setItem("List",JSON.stringify(List))}function ProjectTitleManu(){let e=document.createElement("div");e.innerText="Project Title",e.classList.add("project-upper"),document.body.appendChild(e)}function RenderProjects(){let e="";List.forEach(((t,o)=>{e+=`<div class="Project Project-${o}" data-project-id="${o}" >\n        <div class="element-name" data-project-id = "${o}">${t.ProjectName}</div>\n        <button class="delete-button" data-project-id = "${o}" data-project-number ="${t.ProjectName}"></button>\n        </div>`})),document.querySelector(".project-list").innerHTML=e,document.querySelectorAll(".delete-button").forEach((e=>{let t=document.createElement("img");t.src=DeleteImageSrc,t.classList.add("delete-img-button"),e.appendChild(t)})),ProjectDeletion(),document.querySelectorAll(".Project").forEach((e=>{e.addEventListener("click",(()=>{let t=e.innerText;DisplaySpecificTodo(t)}))}))}function AdditionOfToDo(){let e=!0;document.querySelector(".create-todo-button").addEventListener("click",(()=>{if(console.log(List),0!==List.length){let t=document.createElement("select");t.classList.add("todo-element");let o=document.createElement("input");o.setAttribute("maxlength",17),o.classList.add("todo-element"),o.classList.add("input-title");let n=document.createElement("input");n.setAttribute("maxlength",55),n.classList.add("todo-element"),n.classList.add("input-description");let l=document.createElement("input");l.classList.add("todo-element"),l.classList.add("input-duedate"),l.type="date";let i=document.createElement("select");i.innerHTML="<option>\n        High\n        </option>\n        <option>\n        Medium\n        </option>\n        <option>\n        Low\n        </option>\n        ",i.classList.add("todo-element"),i.classList.add("input-priority");let c=document.createElement("button");c.innerText="Enter",c.classList.add("enter-button-input"),t.classList.add("project-select");let r="";List.forEach((e=>{let t=`<option class="${e.ProjectName}">${e.ProjectName}</option>`;r+=t})),t.innerHTML=r,ToggleThePage(),!0===e&&(document.querySelector(".Project-display").appendChild(t),document.querySelector(".Project-display").appendChild(o),document.querySelector(".Project-display").appendChild(n),document.querySelector(".Project-display").appendChild(l),document.querySelector(".Project-display").appendChild(i),document.querySelector(".Project-display").appendChild(c),e=!1),document.querySelectorAll(".enter-button-input").forEach((r=>{r.addEventListener("click",(()=>{if(""!==o.value&&""!==n.value&&""!==l.value&&""!==i.value){let r=new ToDoList(o.value,n.value,l.value,i.value);List.forEach((e=>{t.value===e.ProjectName&&(e.Array.push(r),SavingTheList())})),document.querySelector(".Project-display").removeChild(t),document.querySelector(".Project-display").removeChild(o),document.querySelector(".Project-display").removeChild(n),document.querySelector(".Project-display").removeChild(l),document.querySelector(".Project-display").removeChild(i),document.querySelector(".Project-display").removeChild(c),ToggleThePage(),console.log(List),e=!0}else alert("Entert The input first")}))}))}else alert("No Projects Found")}))}function ProjectDeletion(){document.querySelectorAll(".delete-button").forEach((e=>{e.addEventListener("click",(()=>{List.forEach(((t,o)=>{t.ProjectName===e.dataset.projectNumber&&(List.splice(o,1),SavingTheList(),RenderProjects())}))}))}))}RenderProjects(),ProjectTitleManu(),AdditionOfToDo();